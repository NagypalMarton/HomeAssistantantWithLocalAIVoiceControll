# Central Backend Configuration
# Copy to .env and fill in your values

# ===== Server =====
CENTRAL_PORT=8000
CENTRAL_ENV=development
CENTRAL_LOG_LEVEL=INFO

# ===== Database =====
DATABASE_URL=postgresql://central_user:central_pass@postgres:5432/central_db
DATABASE_POOL_SIZE=10
DATABASE_ECHO=false

# ===== Redis =====
REDIS_URL=redis://redis:6379/0
REDIS_POOL_SIZE=20

# ===== JWT & Auth =====
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
JWT_SECRET=your-256-bit-secret-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ===== Token Encryption =====
# Generate with: python -c 'from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())'
ENCRYPTION_KEY=your-encryption-key-change-in-production

# ===== Ollama (LLM) =====
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=ministral-3:3b-instruct-2512-q4_K_M
LLM_TIMEOUT_SECONDS=30
LLM_CONTEXT_WINDOW=10
LLM_TEMPERATURE=0.15

# ===== Home Assistant =====
HA_DEFAULT_DOMAIN=http://localhost:8123
HA_API_TIMEOUT_SECONDS=5
HA_RETRY_COUNT=3
HA_RETRY_BACKOFF_FACTOR=2.0

# ===== Audit & Security =====
AUDIT_RETENTION_DAYS=90
RATE_LIMIT_PER_USER_PER_MINUTE=10
RATE_LIMIT_GLOBAL_PER_SECOND=100

# ===== Feature Flags =====
FEATURE_LLM_CACHING=true
FEATURE_HA_FALLBACK_MODE=true
DEBUG_MODE=false

# ===== Monitoring =====
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
ZABBIX_AGENT_ENABLED=false

# ===== HA Manager (Docker) =====
DOCKER_HOST=unix:///var/run/docker.sock
HA_IMAGE=homeassistant/home-assistant:latest
HA_NETWORK=central
HA_BASE_PORT=8123
HA_PORT_RANGE_START=8200
HA_PORT_RANGE_END=8300
HA_TIMEZONE=Europe/Budapest
HA_LATITUDE=47.5
HA_LONGITUDE=19.04
HA_ELEVATION=0
HA_UNIT_SYSTEM=metric
HA_CURRENCY=HUF
HA_MEMORY_LIMIT=512m
HA_CPU_LIMIT=0.5

JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ===== LLM (Ollama) =====
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=mistral:7b
LLM_TIMEOUT_SECONDS=5
LLM_CONTEXT_WINDOW=10

# ===== Home Assistant =====
HA_DEFAULT_DOMAIN=http://localhost:8123
HA_API_TIMEOUT_SECONDS=5
HA_RETRY_COUNT=3
HA_RETRY_BACKOFF_FACTOR=2

# ===== Audit & Security =====
AUDIT_RETENTION_DAYS=90
RATE_LIMIT_PER_USER_PER_MINUTE=10
RATE_LIMIT_GLOBAL_PER_SECOND=100
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# ===== Feature Flags =====
FEATURE_LLM_CACHING=true
FEATURE_HA_FALLBACK_MODE=true
DEBUG_MODE=false

# ===== Monitoring =====
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
ZABBIX_AGENT_ENABLED=false

# ===== TLS & Encryption =====
# For production, use proper certificates and secret management
TLS_ENABLED=false
TLS_CERT_PATH=/etc/ssl/certs/cert.pem
TLS_KEY_PATH=/etc/ssl/private/key.pem
