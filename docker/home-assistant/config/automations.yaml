# Home Assistant Automations for Ollama Chat

# Example: Chat automation trigger
- alias: "Ollama Chat Example"
  description: "Example automation that triggers a chat request"
  trigger:
    platform: state
    entity_id: input_text.ollama_prompt
  condition:
    condition: not
    conditions:
      - condition: state
        entity_id: input_text.ollama_prompt
        state: ""
  action:
    - service: script.ollama_simple_chat
      data:
        message: "{{ states('input_text.ollama_prompt') }}"
    - service: input_text.set_value
      target:
        entity_id: input_text.ollama_prompt
      data:
        value: ""

# Example: Good morning greeting using Ollama
- alias: "Morning Greeting with Ollama"
  description: "Generate a good morning message at 8 AM"
  trigger:
    platform: time
    at: "08:00:00"
  action:
    - service: script.ollama_system_prompt_chat
      data:
        system_prompt: "You are a friendly smart home assistant. Generate a short, cheerful good morning message in Hungarian."
        user_message: "Good morning! Tell me something nice to start the day."

# Example: Device control suggestion
- alias: "Ollama Smart Suggestions"
  description: "Get suggestions from Ollama based on home status"
  trigger:
    platform: numeric_state
    entity_id: sensor.temperature
    below: 18
  action:
    - service: script.ollama_system_prompt_chat
      data:
        system_prompt: "You are a helpful home automation assistant. Provide one sentence suggestion."
        user_message: "The temperature dropped below 18Â°C. What should I do?"
